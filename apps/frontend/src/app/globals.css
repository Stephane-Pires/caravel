@import "tailwindcss";
@import "tw-animate-css";
/*
  ---break---
*/
@custom-variant dark (&:is(.dark *));

@theme {
  --background-image-gradient-radial: radial-gradient(var(--tw-gradient-stops));
  --background-image-gradient-conic: conic-gradient(
    from 180deg at 50% 50%,
    var(--tw-gradient-stops)
  );

  --color-primary-100: oklch(97.7% 0.02 87.51);
  --color-primary-200: oklch(97.05% 0.026 90.1);
  --color-primary-300: oklch(96.21% 0.032 89.14);
  --color-primary-400: oklch(95.63% 0.04 89.69);
  --color-primary-500: oklch(94.82% 0.044 88.53);
  --color-primary-600: oklch(86.27% 0.117 88.84);
  --color-primary-700: oklch(83.48% 0.135 87.47);
  --color-primary-800: oklch(78.39% 0.156 83.44);
  --color-primary-900: oklch(64.03% 0.127 83.45);

  --color-accent-100: oklch(94.86% 0.051 157.58);
  --color-accent-200: oklch(93.07% 0.07 157.41);
  --color-accent-300: oklch(91.34% 0.09 156.4);
  --color-accent-400: oklch(89.63% 0.11 155.76);
  --color-accent-500: oklch(87.12% 0.136 154.45);
  --color-accent-600: oklch(81.73% 0.199 150.87);
  --color-accent-700: oklch(76.16% 0.21 148.79);
  --color-accent-800: oklch(63.24% 0.173 149.06);
  --color-accent-900: oklch(0.4964 0.1327 149.48);

  /* TO USE HAS ACCENT COLORS  */
  --accent-100: oklch(0.9649 0.049 156.19);
  --accent-200: oklch(0.9295 0.0883 155.73);
  --accent-300: oklch(0.8823 0.1501 153.88);
  --accent-400: oklch(0.8173 0.1993 150.87);
  --accent-500: oklch(0.7451 0.2059 148.83);
  --accent-600: oklch(0.6479 0.1825 148.39);
  --accent-700: oklch(0.5432 0.148 149.12);
  --accent-800: oklch(0.4586 0.1162 150.61);
  --accent-900: oklch(0.4034 0.0981 151.59);

  --color-content-100: oklch(0.9319 0.0316 255.59);
  --color-content-200: oklch(0.8823 0.0571 254.13);
  --color-content-300: oklch(0.8091 0.0956 251.81);
  --color-content-400: oklch(0.7137 0.1434 254.62);
  --color-content-500: oklch(0.6231 0.188 259.81);
  --color-content-600: oklch(0.5461 0.2152 262.88);
  --color-content-700: oklch(0.4882 0.2172 264.38);
  --color-content-800: oklch(0.4244 0.1809 265.64);
  --color-content-900: oklch(0.3791 0.1378 265.52);

  --color-diminish-100: oklch(0.9842 0.0034 247.86);
  --color-diminish-200: oklch(0.9683 0.0069 247.9);
  --color-diminish-300: oklch(0.9288 0.0126 255.51);
  --color-diminish-400: oklch(0.869 0.0198 252.89);
  --color-diminish-500: oklch(0.7107 0.0351 256.79);
  --color-diminish-600: oklch(0.4455 0.0374 257.28);
  --color-diminish-700: oklch(0.3717 0.0392 257.29);
  --color-diminish-800: oklch(0.2795 0.0368 260.03);
  --color-diminish-900: oklch(0.2077 0.0398 265.75);

  /* TO USE HAS PRIMARY COLORS  */
  --primary-100: oklch(0.9497 0.0474 91.33);
  --primary-200: oklch(0.898 0.0956 91.95);
  --primary-300: oklch(0.8627 0.1173 88.84);
  --primary-400: oklch(0.7911 0.1471 81.6);
  --primary-500: oklch(0.7225 0.1518 67.47);
  --primary-600: oklch(0.6296 0.1456 56.86);
  --primary-700: oklch(0.5299 0.1329 48.16);
  --primary-800: oklch(0.4532 0.1137 44.06);
  --primary-900: oklch(0.3981 0.0953 43.42);

  --color-urgence-100: oklch(0.9458 0.032 344.96);
  --color-urgence-200: oklch(0.8961 0.0654 345.89);
  --color-urgence-300: oklch(0.8189 0.1241 347.92);
  --color-urgence-400: oklch(0.7245 0.1939 352.73);
  --color-urgence-500: oklch(0.6429 0.2436 0.71);
  --color-urgence-600: oklch(0.6055 0.2329 5.38);
  --color-urgence-700: oklch(0.5399 0.2115 9.16);
  --color-urgence-800: oklch(0.4706 0.1818 9.09);
  --color-urgence-900: oklch(0.4157 0.1557 7.7);

  --color-warning-100: oklch(0.9376 0.0324 52.33);
  --color-warning-200: oklch(0.8702 0.0671 48.89);
  --color-warning-300: oklch(0.7861 0.1156 45.02);
  --color-warning-400: oklch(0.73 0.1466 38.91);
  --color-warning-500: oklch(0.6403 0.2073 34.88);
  --color-warning-600: oklch(0.5914 0.2129 31.72);
  --color-warning-700: oklch(0.5112 0.1881 30.22);
  --color-warning-800: oklch(0.4362 0.1546 28.46);
  --color-warning-900: oklch(0.3788 0.1262 28.01);

  --font-sans: var(--font-atkinson);
  --font-script: var(--font-merienda);
  --font-code: var(--font-mono-lisa-regular);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

/* Coupled to header height */
* {
  scroll-margin-top: 80px;
}

/* HACK UNTIL I MANAGE PROPERLY LIGHT-MODE using Tailwind */
/* If the user prefers dark mode, 
we of course apply color-scheme: dark, as usual */
@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}

/* HACK UNTIL I MANAGE PROPERLY LIGHT-MODE using Tailwind */
/* If the user prefers light mode, 
we still enforce color-scheme: dark, despite the user preference */
@media (prefers-color-scheme: light) {
  html {
    color-scheme: dark;
  }
}

:root {
  --radius: 0.625rem;
  /* --background: oklch(20.8% 0.042 265.755); Tailwind Slate 900 */
  --background: var(--color-diminish-900);
  --foreground: var(--color-diminish-100);
  --card: var(--color-primary-700);
  --card-foreground: var(--color-content-900);
  --popover: var(--color-diminish-200);
  --popover-foreground: var(--color-content-900);
  --primary-foreground: var(--color-content-900);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: var(--color-accent-500);
  --accent-foreground: oklch(0.205 0 0);
  /* --destructive: oklch(0.577 0.245 27.325); */
  --destructive: var(--color-urgence-500);
  --border: var(--color-diminish-300);
  --input: oklch(0.922 0 0);
  --ring: var(--color-accent-500);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

/*
  ---break---
*/
.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

/* Styling - rehypeKatex & remarkMath */
span.katex-html {
  display: none;
}

/* Styling - rehypeKatex & remarkMath */
span.katex-mathml {
  @apply text-xl text-blue-100;
}

/* Styling - rehypeKatex & remarkMath */
math {
  @apply m-4;
}

ul > li > ul > li > p {
  @apply m-0!;
}

ul > li > ul > li {
  @apply ml-2 list-image-[url(/logbook/mdx/minus-small.svg)] sm:ml-4;
}

/* Voir pour remplacer par ue implementation MDX avec les balises pre & code */
/* https://rehype-pretty-code.netlify.app/ */
pre {
  /* margin: 100px; */
  /* width: 90vw; */
  @apply m-4 w-[90vw] md:w-full;
}

/* https://rehype-pretty-code.netlify.app/ */
pre > code {
  display: grid;
  overflow-x: scroll;
  overflow-y: scroll;
  padding: 10px;
  @apply font-code text-sm sm:text-base;
}

/* https://rehype-pretty-code.netlify.app/ */
code {
  counter-reset: line;
}

/* https://rehype-pretty-code.netlify.app/ */
code > .line::before {
  counter-increment: line;
  content: counter(line);

  /* Other styling */
  display: inline-block;
  width: 1rem;
  margin-right: 2rem;
  text-align: right;
  color: gray;
}

/* https://rehype-pretty-code.netlify.app/ */
code[data-line-numbers-max-digits="2"] > .line::before {
  width: 2rem;
}

/* https://rehype-pretty-code.netlify.app/ */
code[data-line-numbers-max-digits="3"] > .line::before {
  width: 3rem;
}
/*
  ---break---
*/
@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/*
  ---break---
*/
@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
